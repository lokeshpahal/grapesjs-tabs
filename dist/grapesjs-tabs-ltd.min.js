/*! grapesjs-tabs-ltd - 1.0.1 */
!function(t,e){'object'==typeof exports&&'object'==typeof module?module.exports=e():'function'==typeof define&&define.amd?define([],e):'object'==typeof exports?exports["grapesjs-tabs-ltd"]=e():t["grapesjs-tabs-ltd"]=e()}('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:this,(function(){return function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&'object'==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,'default',{enumerable:!0,value:t}),2&e&&'string'!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t['default']}:function(){return t};return n.d(e,'a',e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);const a='tab';var o=(t,e)=>{let{defaultModel:n,typeTabs:o,selectorTab:s,editor:r,...i}=e;const c='data-prev',l=[{full:1,type:'button',label:!1,text:'Style Active',command:t=>{const e=t.Panels.getButton('views','open-sm');e&&e.set('active',1);const n=".".concat(i.classTab,".").concat(i.classTabActive);t.StyleManager.setTarget(n,{targetIsClass:1})}}],b=t=>t.getAttributes()[c];t.addType(i.typeTab,{model:{defaults:{name:'Tab',draggable:"[data-gjs-type=\"".concat(i.typeTabContainer,"\"]"),attributes:{role:a},components:i.templateTab,classes:i.classTab,traits:l,...i.tabProps},init(){this.on('removed',this.__onRemove)},__initTab(){if(this.tabContent)return;let t=this.getTabContent();if(t&&b(t)){const e=t.getId(),n=this.getId();t.addAttributes({id:e,'aria-labelledby':n,hidden:!0}),t.removeAttributes(c),this.addAttributes({[s]:e,id:n})}if(!t){t=this.getTabsType().getContentsType().append({type:i.typeTabContent,components:i.templateTabContent(this)})[0];const e=t.getId(),n=this.getId();t.addAttributes({id:e,'aria-labelledby':n,hidden:!0}),this.addAttributes({[s]:e,id:n}),this.tabContent=t}this.tabContent=t},__onRemove(){const t=this.getTabContent();t&&t.remove(),this.getTabsType().trigger('rerender')},getTabsType(){return this.closestType(o)},getTabContent(){const t=this.getAttributes()[s],e=this.getTabsType();if(!e||!t)return;return e.findContents().filter(e=>e.getId()==t||b(e)==t)[0]},clone(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})._inner;if(t){const t=this.getTabContent();t&&t.addAttributes({[c]:t.getId()})}const e=n.prototype.clone.apply(this,arguments);return!t&&e.addAttributes({[s]:''}),e}}})},s=(t,e)=>{let{typeTab:n,typeTabContent:a,typeTabContents:o,typeTabContainer:s,style:r,...i}=e;const c=i.typeTabs,l=[1,2,3].map(t=>({type:n}));t.addType(c,{model:{defaults:{name:'Tabs',classactive:i.classTabActive,selectortab:i.selectorTab,'script-props':['classactive','selectortab'],script:function(t){const e=this,n=t.classactive,a=t.selectortab,{history:o,_isEditor:s}=window,r='tabIndex',i='ariaSelected',c='[role=tab]',l='[role=tabpanel]',{body:b,location:d}=document,p=b.matchesSelector||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector,T=(t,e)=>{const n=t||[];for(let t=0;t<n.length;t++)e(n[t],t)},u=t=>t.getAttribute(a),y=(t,e)=>t.querySelector(e),f=()=>e.querySelectorAll(c),g=(t,e)=>!s&&(t[r]=e),h=t=>{T(f(),t=>{t.className=t.className.replace(n,'').trim(),t[i]='false',g(t,'-1')}),T(e.querySelectorAll(l),t=>t.hidden=!0),t.className+=' '+n,t[i]='true',g(t,'0');const a=u(t),o=a&&y(e,"#".concat(a));o&&(o.hidden=!1)};let m=y(e,".".concat(n).concat(c));m=m||(()=>{const t=(d.hash||'').replace('#','');return t&&y(e,(n=a,"".concat(c,"[").concat(n,"=").concat(t,"]")));var n})()||y(e,c),m&&h(m),e.addEventListener('click',t=>{let{target:e}=t,a=p.call(e,c);if(a||(e=(t=>{let e;return T(f(),n=>{e||n.contains(t)&&(e=n)}),e})(e),e&&(a=1)),a&&!t.__trg&&e.className.indexOf(n)<0){t.preventDefault(),t.__trg=1,h(e);const n=u(e);try{o&&o.pushState(null,null,"#".concat(n))}catch(t){}}})},traits:[{full:1,type:'button',label:!1,text:'Add Tab',command:t=>{const e=t.getSelected();e&&e.addTab()}}],components:[{type:s,components:l},{type:o},r&&"<style>".concat(r(i),"</style>")],...i.tabsProps},init(){this.findTabs().map(this.__onTab),this.listenTo(this.getTabContainerType().components(),'add',this.__onTab)},__onTab(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!n.avoidStore&&!n.temporary&&t.__initTab&&t.__initTab()},getTabContainerType(){return this.findType(s)[0]},getContentsType(){return this.findType(o)[0]||this},findTabs(){return this.findType(n)},findContents(){return this.findType(a)},addTab(t){this.getTabContainerType().append({type:n,components:t})}}})};const r='tabpanel';var i=(t,e)=>{t.addType(e.typeTabContent,{model:{defaults:{name:'Tab Content',draggable:!1,copyable:!1,removable:!1,highlightable:!1,attributes:{role:r},classes:e.classTabContent,traits:[],...e.tabContentProps}}})},c=(t,e)=>{t.addType(e.typeTabContents,{model:{defaults:{name:'Tab Contents',draggable:!1,droppable:!1,copyable:!1,removable:!1,classes:e.classTabContents,...e.tabContentsProps}}})};const l='tablist';var b=(t,e)=>{t.addType(e.typeTabContainer,{model:{defaults:{name:'Tab Container',draggable:"[data-gjs-type=\"".concat(e.typeTabs,"\"]"),droppable:"[data-gjs-type=\"".concat(e.typeTab,"\"]"),copyable:!1,removable:!1,highlightable:!1,attributes:{role:l},classes:e.classTabContainer,...e.tabContainerProps}}})},d=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.DomComponents,a={...e,defaultModel:n.getType('default').model,editor:t};[o,s,i,c,b].map(t=>t(n,a))},p=(t,e)=>{let{tabsBlock:n,typeTabs:a}=e;const o=t.BlockManager;n&&o.add(a,{media:"\n      <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M22 9.3c0-.8-.5-1.3-1.3-1.3H3.4C2.5 8 2 8.5 2 9.3v7.4c0 .8.5 1.3 1.3 1.3h17.4c.8 0 1.3-.5 1.3-1.3V9.3zM21 17H3V9h18v8z\" fill-rule=\"nonzero\"/><rect x=\"3\" y=\"5\" width=\"4\" height=\"2\" rx=\".5\"/><rect x=\"8\" y=\"5\" width=\"4\" height=\"2\" rx=\".5\"/><rect x=\"13\" y=\"5\" width=\"4\" height=\"2\" rx=\".5\"/>\n      </svg>\n    ",label:'Tabs',content:{type:a},category:'Basic',...n})},T={tabsBlock:{},tabsProps:{},tabContainerProps:{},tabProps:{},tabContentProps:{},tabContentsProps:{},classTab:'tab',classTabContainer:'tab-container',classTabActive:'tab-active',classTabContent:'tab-content',classTabContents:'tab-contents',selectorTab:'aria-controls',typeTabs:'tabs',typeTabContainer:'tab-container',typeTab:'tab',typeTabContent:'tab-content',typeTabContents:'tab-contents',templateTab:t=>'<span data-gjs-highlightable="false">Tab</span>',templateTabContent:t=>'<div>Tab Content</div>',style:t=>"\n        .".concat(t.classTab," {\n            padding: 7px 14px;\n            display: inline-block;\n            border-radius: 3px;\n            margin-right: 10px;\n        }\n\n        .").concat(t.classTab,":focus {\n            outline: none;\n        }\n\n        .").concat(t.classTab,".").concat(t.classTabActive," {\n            background-color: #0d94e6;\n            color: white;\n        }\n\n        .").concat(t.classTabContainer," {\n            display: inline-block;\n        }\n\n        .").concat(t.classTabContent," {\n            animation: fadeEffect 1s;\n        }\n\n        .").concat(t.classTabContents," {\n            min-height: 100px;\n            padding: 10px;\n        }\n\n        @keyframes fadeEffect {\n            from {opacity: 0;}\n            to {opacity: 1;}\n        }\n    ")};e["default"]=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...T,...e};d(t,n),p(t,n)}}])}));
//# sourceMappingURL=grapesjs-tabs-ltd.min.js.map